JOB_RECEIVER_HOST=localhost:8080

ACCOUNT="010101"
NODE_ID="client-1"

PAYLOAD='{"insights": "enabled","compliance": "enabled","drift": "enabled"}'


echo "ACCOUNT: $ACCOUNT"

function getState {
    echo "Get State"
    echo "Account: $ACCOUNT"
    curl -s "http://$JOB_RECEIVER_HOST/state?account=$ACCOUNT" | jq
}

function postState {
    echo "Post State"
    echo "Account: $ACCOUNT"
    curl -s -X POST -d "$PAYLOAD" http://$JOB_RECEIVER_HOST/state?account=$ACCOUNT | jq
}

function getSyncResults {
    RUN_ID=1234
    echo "Get Sync Results - $RUN_ID"
    echo "Account: $ACCOUNT"
    curl -s "http://$JOB_RECEIVER_HOST/sync_results?account=$ACCOUNT&run_id=$RUN_ID" | jq
}

function startSync {
    echo "Get Sync Results - $RUN_ID"
    echo "Account: $ACCOUNT"
    curl -v -s -X POST "http://$JOB_RECEIVER_HOST/sync?account=$ACCOUNT"
}


#getState
postState
#getState

#getSyncResults
startSync
