<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1632" height="1803"><desc>title%20config-manager%0A%0Aparticipantgroup%20%23lightyellow%20**external**%20%0Aparticipant%20RHC%20Client%0Aparticipant%20RHC%20User%0Aend%0Aparticipantgroup%20%23lightblue%20**cloud.redhat.com**%0Aparticipant%20Config-manager%20API%0Aparticipant%20Inventory%20API%0Aparticipant%20Playbook%20Dispatcher%20API%0Aparticipant%20Cloud%20Connector%20API%0Aend%0A%0A%0ARHC%20User-%3EConfig-manager%20API%3AGet%20current%20Service%20Enablement%5Cnstate%20for%20account%0AConfig-manager%20API-%3EConfig-manager%20API%3ARetrieve%20current%5Cnstate%20from%20DB%0AConfig-manager%20API-%3ECloud%20Connector%20API%3AGet%20connection%20status%20for%20host%0AConfig-manager%20API%3C--Cloud%20Connector%20API%3AConnection%20status%20and%20dispatchers%20map%0AConfig-manager%20API-%3ECloud%20Connector%20API%3APost%20message%20to%20package-manager%20install%20rhc-worker-playbook%0ACloud%20Connector%20API-%3ERHC%20Client%3ASend%20message%20to%20package-manager%20worker%0AConfig-manager%20API-%3ECloud%20Connector%20API%3APoll%20until%20rhc-worker-playbook%20is%20present%20in%20dispatchers%20map%0ARHC%20User%3C--Config-manager%20API%3ACurrent%20state%20content%0ARHC%20User-%3EConfig-manager%20API%3AUpdate%20Service%20Enablement%5Cnstate%20for%20account%0AConfig-manager%20API-%3EInventory%20API%3AGet%20RHC%20connected%20clients%5Cnfor%20requesting%20account%0AConfig-manager%20API%3C--Inventory%20API%3AList%20of%20RHC%20connected%20clients%0AConfig-manager%20API-%3EConfig-manager%20API%3ACreate%20new%20State%20Archive%5Cnand%20add%20to%20DB%0AConfig-manager%20API-%3EPlaybook%20Dispatcher%20API%3ARun%20playbook%20https%3A%2F%2Fxyz%5Cnon%20host%20%3Crhc_client_id%3E%5Cnusing%20label%20%3Cstate%20label%3E%0ARHC%20User%3C--Config-manager%20API%3ADispatch%20response%0Anote%20right%20of%20Playbook%20Dispatcher%20API%3AThe%20playbook%20dispatcher%20utilizes%5Cnthe%20cloud-connector%20to%20send%5Cna%20message%20to%20the%20RHC%20client%0ARHC%20Client%3C-Playbook%20Dispatcher%20API%3APlaybook%20work%20request%5Cnhttps%3A%2F%2Fxyz%0ARHC%20Client-%3EConfig-manager%20API%3AFetch%20https%3A%2F%2Fxyz%0ARHC%20Client%3C--Config-manager%20API%3APlaybook%20https%3A%2F%2Fxyz%20content%0Anote%20left%20of%20RHC%20Client%3AThe%20RHC%20Client%20will%20run%20the%20playbook%5Cnvia%20ansible-runner%20and%20upload%20results%5Cnvia%20Ingress.%20Results%20will%20be%20validated%5Cnand%20stored%20by%20the%20playbook%20dispatcher%5Cnfor%20later%20consumption%20by%20platform%5Cnservices%0A%0Aalt%20waiting%20for%20status%20updates%20from%20kafka%0APlaybook%20Dispatcher%20API-%3E(2)Config-manager%20API%3APublish%20%22success%22%20message%5Cnto%20%3Cdispatcher%20events%20topic%3E%5Cn%0AConfig-manager%20API-%3EInventory%20API%3AUpdate%20%3Crhc_config_state%3E%5CnID%20for%20host%0Aend%0A%0A%0ARHC%20User-%3EConfig-manager%20API%3AGet%20history%20of%20state%20changes%0AConfig-manager%20API-%3EConfig-manager%20API%3ARetrieve%20state%5Cnarchives%20from%20DB%0ARHC%20User%3C--Config-manager%20API%3AFiltered%20state%20archives%20for%20account</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1632" height="1803"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="733.4086716948381" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">config-manager</text></g><g><g><path fill="lightyellow" stroke="black" paint-order="fill stroke markers" d=" M 264.3908111859648 50.394102180500006 L 505.6893375103086 50.394102180500006 L 505.6893375103086 1795.6890849319434 L 264.3908111859648 1795.6890849319434 L 264.3908111859648 50.394102180500006" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="352.365074634239" y="73.2633868005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">external</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.89840745894605" y="73.2633868005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text></g><g><path fill="lightblue" stroke="black" paint-order="fill stroke markers" d=" M 723.2669152378488 50.394102180500006 L 1623.8830791420198 50.394102180500006 L 1623.8830791420198 1795.6890849319434 L 723.2669152378488 1795.6890849319434 L 723.2669152378488 50.394102180500006" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1109.2916643652272" y="73.2633868005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cloud.redhat.com</text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 326.55710994234374 133.458610961 L 326.55710994234374 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 447.2063731045156 133.458610961 L 447.2063731045156 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 133.458610961 L 818.8748796436419 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1060.9520843746313 133.458610961 L 1060.9520843746313 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1243.734675020934 133.458610961 L 1243.734675020934 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1526.625113210348 133.458610961 L 1526.625113210348 1795.6890849319434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 272.5584128359648 89.35356205100001 L 380.5558070487226 89.35356205100001 L 380.5558070487226 133.458610961 L 272.5584128359648 133.458610961 L 272.5584128359648 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="290.28210841646484" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RHC Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 396.8910103487226 89.35356205100001 L 497.5217358603086 89.35356205100001 L 497.5217358603086 133.458610961 L 396.8910103487226 133.458610961 L 396.8910103487226 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="414.6147059292226" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RHC User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 731.4345168878489 89.35356205100001 L 906.3152423994349 89.35356205100001 L 906.3152423994349 133.458610961 L 731.4345168878489 133.458610961 L 731.4345168878489 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="749.1582124683489" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Config-manager API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 996.4283895570708 89.35356205100001 L 1125.4757791921918 89.35356205100001 L 1125.4757791921918 133.458610961 L 996.4283895570708 133.458610961 L 996.4283895570708 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1014.1520851375708" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Inventory API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1141.810982492192 89.35356205100001 L 1345.6583675496763 89.35356205100001 L 1345.6583675496763 133.458610961 L 1141.810982492192 133.458610961 L 1141.810982492192 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1159.5346780726918" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Playbook Dispatcher API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1437.5347489286762 89.35356205100001 L 1615.71547749202 89.35356205100001 L 1615.71547749202 133.458610961 L 1437.5347489286762 133.458610961 L 1437.5347489286762 89.35356205100001 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1455.2584445091761" y="117.12340766099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Cloud Connector API</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="523.9989622505436" y="180.83070053099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get current Service Enablement</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="523.9989622505436" y="197.16590383099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">state for account</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 447.2063731045156 203.699985151 L 805.4255622599752 203.699985151" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,203.699985151) translate(-818.8748796436419,-203.699985151)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 805.2622102269752 196.89365044266665 L 818.8748796436419 203.699985151 L 805.2622102269752 210.50631985933333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="242.90447307099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Retrieve current</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="259.239676371" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">state from DB</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 265.77375769099996 L 884.2156928436418 265.77375769099996 L 884.2156928436418 287.009521981 L 832.3241970273085 287.009521981" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,287.009521981) translate(-818.8748796436419,-287.009521981)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 280.20318727266664 L 818.8748796436419 287.009521981 L 832.4875490603085 293.8158566893333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1068.658329251702" y="326.21400990099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get connection status for host</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 332.748091221 L 1513.1757958266812 332.748091221" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1526.625113210348,332.748091221) translate(-1526.625113210348,-332.748091221)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1513.0124437936813 325.94175651266664 L 1526.625113210348 332.748091221 L 1513.0124437936813 339.5544259293333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1036.241665128167" y="371.95257914099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Connection status and dispatchers map</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1526.625113210348 378.486660461 L 832.3241970273085 378.486660461" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(818.8748796436419,378.486660461) translate(-818.8748796436419,-378.486660461)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 371.68032575266665 L 818.8748796436419 378.486660461 L 832.4875490603085 385.2929951693333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="955.6083338293388" y="417.69114838099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Post message to package-manager install rhc-worker-playbook</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 424.225229701 L 1513.1757958266812 424.225229701" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1526.625113210348,424.225229701) translate(-1526.625113210348,-424.225229701)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1513.0124437936813 417.41889499266665 L 1526.625113210348 424.225229701 L 1513.0124437936813 431.0315644093333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="777.0744489786896" y="463.42971762099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send message to package-manager worker</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1526.625113210348 469.963798941 L 340.0064273260104 469.963798941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(326.55710994234374,469.963798941) translate(-326.55710994234374,-469.963798941)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 340.1697793590104 463.15746423266665 L 326.55710994234374 469.963798941 L 340.1697793590104 476.77013364933333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="965.9166681799247" y="509.16828686099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Poll until rhc-worker-playbook is present in dispatchers map</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 515.702368181 L 1513.1757958266812 515.702368181" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1526.625113210348,515.702368181) translate(-1526.625113210348,-515.702368181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1513.0124437936813 508.89603347266666 L 1526.625113210348 515.702368181 L 1513.0124437936813 522.5087028893333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="559.2906263740788" y="554.9068561009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Current state content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 561.440937421 L 460.65569048818224 561.440937421" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(447.2063731045156,561.440937421) translate(-447.2063731045156,-561.440937421)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 460.81904252118227 554.6346027126666 L 447.2063731045156 561.440937421 L 460.81904252118227 568.2472721293333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="538.0406263740788" y="600.645425341" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update Service Enablement</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="538.0406263740788" y="616.980628641" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">state for account</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 447.2063731045156 623.514709961 L 805.4255622599752 623.514709961" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,623.514709961) translate(-818.8748796436419,-623.514709961)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 805.2622102269752 616.7083752526667 L 818.8748796436419 623.514709961 L 805.2622102269752 630.3210446693333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="849.3051522361874" y="662.719197881" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get RHC connected clients</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="849.3051522361874" y="679.054401181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">for requesting account</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 685.588482501 L 1047.5027669909646 685.588482501" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1060.9520843746313,685.588482501) translate(-1060.9520843746313,-685.588482501)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1047.3394149579647 678.7821477926667 L 1060.9520843746313 685.588482501 L 1047.3394149579647 692.3948172093334 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103085" y="724.792970421" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">List of RHC connected clients</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1060.9520843746313 731.327051741 L 832.3241970273085 731.327051741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(818.8748796436419,731.327051741) translate(-818.8748796436419,-731.327051741)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 724.5207170326667 L 818.8748796436419 731.327051741 L 832.4875490603085 738.1333864493333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="770.5315396609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create new State Archive</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="786.8667429609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and add to DB</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 793.4008242809999 L 884.2156928436418 793.4008242809999 L 884.2156928436418 814.636588571 L 832.3241970273085 814.636588571" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,814.636588571) translate(-818.8748796436419,-814.636588571)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 807.8302538626666 L 818.8748796436419 814.636588571 L 832.4875490603085 821.4429232793333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="945.9381105384646" y="853.841076491" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Run playbook https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1083.6214448890505" y="853.841076491" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1094.5214445075808" y="853.841076491" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">xyz</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="945.9381105384646" y="870.176279791" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on host &lt;rhc_client_id&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="945.9381105384646" y="886.511483091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">using label &lt;state label&gt;</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 893.045564411 L 1230.2853576372672 893.045564411" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1243.734675020934,893.045564411) translate(-1243.734675020934,-893.045564411)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1230.1220056042673 886.2392297026666 L 1243.734675020934 893.045564411 L 1230.1220056042673 899.8518991193333 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="569.3656271370182" y="932.2500523309999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Dispatch response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 938.7841336509999 L 460.65569048818224 938.7841336509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(447.2063731045156,938.7841336509999) translate(-447.2063731045156,-938.7841336509999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 460.81904252118227 931.9777989426666 L 447.2063731045156 938.7841336509999 L 460.81904252118227 945.5904683593333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1243.734675020934 998.407625696 L 1251.902276670934 998.407625696 M 1251.902276670934 963.286938601 L 1503.755828590348 963.286938601 L 1518.4575115603482 977.988621571 L 1518.4575115603482 1033.528312791 L 1251.902276670934 1033.528312791 L 1251.902276670934 963.286938601 M 1503.755828590348 963.286938601 L 1503.755828590348 977.988621571 L 1518.4575115603482 977.988621571" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1274.771561290934" y="986.156223221" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The playbook dispatcher utilizes</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1274.771561290934" y="1002.491426521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">the cloud-connector to send</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1274.771561290934" y="1018.826629821" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">a message to the RHC client</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="706.312556605174" y="1072.732800711" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Playbook work request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="706.312556605174" y="1089.068004011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="745.9625581310529" y="1089.068004011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="756.8625577495832" y="1089.068004011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">xyz</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1243.734675020934 1095.602085331 L 340.0064273260104 1095.602085331" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(326.55710994234374,1095.602085331) translate(-326.55710994234374,-1095.602085331)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 340.1697793590104 1088.7957506226667 L 326.55710994234374 1095.602085331 L 340.1697793590104 1102.4084200393331 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.8076600609371" y="1134.8065732510001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Fetch https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="596.5743302879879" y="1134.8065732510001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="607.4743299065182" y="1134.8065732510001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">xyz</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 326.55710994234374 1141.340654571 L 805.4255622599752 1141.340654571" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,1141.340654571) translate(-818.8748796436419,-1141.340654571)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 805.2622102269752 1134.5343198626667 L 818.8748796436419 1141.340654571 L 805.2622102269752 1148.1469892793332 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="474.5826606331417" y="1180.5451424910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Playbook https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="581.0493278084347" y="1180.5451424910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="591.9493274269649" y="1180.5451424910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">xyz content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 1187.079223811 L 340.0064273260104 1187.079223811" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(326.55710994234374,1187.079223811) translate(-326.55710994234374,-1187.079223811)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 340.1697793590104 1180.2728891026668 L 326.55710994234374 1187.079223811 L 340.1697793590104 1193.8855585193332 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 326.55710994234374 1271.205520806 L 318.38950829234375 1271.205520806 M 8.16760165 1211.582028761 L 303.68782532234377 1211.582028761 L 318.38950829234375 1226.283711731 L 318.38950829234375 1330.829012851 L 8.16760165 1330.829012851 L 8.16760165 1211.582028761 M 303.68782532234377 1211.582028761 L 303.68782532234377 1226.283711731 L 318.38950829234375 1226.283711731" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1234.451313381" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The RHC Client will run the playbook</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1250.7865166810002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">via ansible-runner and upload results</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1267.1217199810003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">via Ingress. Results will be validated</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1283.4569232810004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and stored by the playbook dispatcher</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1299.7921265810005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">for later consumption by platform</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="1316.1273298810006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">services</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="934.1047803840456" y="1414.138549681" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Publish "success" message</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="934.1047803840456" y="1430.4737529810002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to &lt;dispatcher events topic&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="934.1047803840456" y="1446.8089562810003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1243.734675020934 1444.4822139819435 L 832.2846086935117 1476.121453817703" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,1477.1526205819434) rotate(-4.397215071378347,0,0) translate(-818.8748796436419,-1477.1526205819434)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 1470.3462858736102 L 818.8748796436419 1477.1526205819434 L 832.4875490603085 1483.9589552902767 Z"/><g transform="rotate(4.397215071378347,0,0)"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="848.2218163597225" y="1516.3571085019435" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update &lt;rhc_config_state&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="848.2218163597225" y="1532.6923118019436" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ID for host</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 1539.2263931219434 L 1047.5027669909646 1539.2263931219434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1060.9520843746313,1539.2263931219434) translate(-1060.9520843746313,-1539.2263931219434)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1047.3394149579647 1532.4200584136101 L 1060.9520843746313 1539.2263931219434 L 1047.3394149579647 1546.0327278302766 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="536.5739591987858" y="1602.9336859919435" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get history of state changes</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 447.2063731045156 1609.4677673119434 L 805.4255622599752 1609.4677673119434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,1609.4677673119434) translate(-818.8748796436419,-1609.4677673119434)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 805.2622102269752 1602.6614326036101 L 818.8748796436419 1609.4677673119434 L 805.2622102269752 1616.2741020202766 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="1648.6722552319436" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Retrieve state</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="840.6551507103086" y="1665.0074585319437" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">archives from DB</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 1671.5415398519435 L 884.2156928436418 1671.5415398519435 L 884.2156928436418 1692.7773041419434 L 832.3241970273085 1692.7773041419434" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(818.8748796436419,1692.7773041419434) translate(-818.8748796436419,-1692.7773041419434)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 832.4875490603085 1685.9709694336102 L 818.8748796436419 1692.7773041419434 L 832.4875490603085 1699.5836388502767 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.7906263740788" y="1731.9817920619437" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Filtered state archives for account</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.8748796436419 1738.5158733819435 L 460.65569048818224 1738.5158733819435" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(447.2063731045156,1738.5158733819435) translate(-447.2063731045156,-1738.5158733819435)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 460.81904252118227 1731.7095386736103 L 447.2063731045156 1738.5158733819435 L 460.81904252118227 1745.3222080902767 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 761.7016680936418 1355.3318178010002 L 1300.907886570934 1355.3318178010002 L 1300.907886570934 1563.7291980719433 L 761.7016680936418 1563.7291980719433 L 761.7016680936418 1355.3318178010002 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 761.7016680936418 1355.3318178010002 L 761.7016680936418 1374.934061761 L 810.1387411059953 1374.934061761 L 819.9398630859953 1365.1329397810002 L 819.9398630859953 1355.3318178010002 L 761.7016680936418 1355.3318178010002" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="778.0368713936418" y="1368.399980441" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="836.2750663859953" y="1368.399980441" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[waiting for status updates from kafka]</text></g></g><g/><g/><g/><g/><g/><g/></g></svg>